<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ascend Powerpacks</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f4f6f9;
}

header {
    background: #0a7cff;
    color: white;
    padding: 20px;
    text-align: center;
}

section {
    padding: 40px;
    text-align: center;
}

button {
    background: #0a7cff;
    color: white;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
}

/* Chat styles */
#chat-toggle {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #0a7cff;
    color: white;
    border: none;
    padding: 15px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 18px;
}

#chat-container {
    display: none;
    position: fixed;
    bottom: 80px;
    right: 20px;
    width: 350px;
    height: 500px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.2);
    overflow: hidden;
}

#chat-header {
    background: #0a7cff;
    color: white;
    padding: 15px;
}

#chatbox {
    height: 350px;
    overflow-y: auto;
    padding: 10px;
    font-size: 14px;
}

#chat-input {
    display: flex;
    padding: 10px;
    border-top: 1px solid #ddd;
}

#chat-input input {
    flex: 1;
    padding: 8px;
}

.bot { color: green; margin-bottom: 8px; }
.user { color: blue; margin-bottom: 8px; }
</style>
</head>

<body>

<header>
<h1>Ascend Powerpacks</h1>
<p>Reliable Lithium Battery & Solar Storage Solutions</p>
</header>

<section>
<h2>Our Products</h2>
<p>We provide 5kWh â€“ 50kWh LiFePO4 battery systems for homes and businesses.</p>
<button onclick="toggleChat()">Chat With Us</button>
</section>

<!-- Chatbot -->
<button id="chat-toggle" onclick="toggleChat()">ðŸ’¬</button>

<div id="chat-container">
    <div id="chat-header">Ascend Powerpacks Assistant</div>
    <div id="chatbox"></div>
    <div id="chat-input">
        <input id="userInput" placeholder="Ask about pricing, battery size..." />
        <button onclick="reply()">Send</button>
    </div>
</div>

<script>
let step = 0;
let lead = {};

function toggleChat() {
    let chat = document.getElementById("chat-container");
    chat.style.display = chat.style.display === "none" ? "block" : "none";
}

function reply() {
    let inputField = document.getElementById("userInput");
    let input = inputField.value;
    let text = input.toLowerCase();
    let chat = document.getElementById("chatbox");

    chat.innerHTML += "<div class='user'><b>You:</b> " + input + "</div>";
    let response = "";

    if (text.includes("battery")) {
        response = "We offer lithium battery systems from 5kWh to 50kWh.";
    }

    else if (text.includes("price")) {
        response = "5kWh starts at $2,000. 10kWh ranges $3,800â€“$4,500.";
    }

    else if (text.includes("recommend") || text.includes("size")) {
        response = "How many AC units do you use?";
        step = 1;
    }

    else if (step === 1) {
        let acUnits = parseInt(input);
        if (acUnits >= 2) {
            response = "We recommend 15â€“20kWh for multiple AC usage.";
        } else {
            response = "We recommend 5â€“10kWh for light usage.";
        }
        step = 0;
    }

    else if (text.includes("quote") || text.includes("buy")) {
        response = "Please enter your full name:";
        step = 2;
    }

    else if (step === 2) {
        lead.name = input;
        response = "Enter your phone number:";
        step = 3;
    }

    else if (step === 3) {
        lead.phone = input;
        response = "Thank you! Our sales team will contact you soon.";
        step = 0;
        console.log("New Lead:", lead);
    }

    else if (text.includes("error") || text.includes("problem")) {
        response = "Please provide your system model and error code.";
    }

    else {
        response = "I can help with pricing, battery recommendations, quotes, and support.";
    }

    chat.innerHTML += "<div class='bot'><b>Bot:</b> " + response + "</div>";
    chat.scrollTop = chat.scrollHeight;
    inputField.value = "";
}
</script>

</body>
</html>
